<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Amy Lee</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

</head>
<body>
	<header class="bg-image">
		<div class="container">
			<div class="avatar">
				<div class="round-border"></div>
            </div>
			<h1>Hi, I am Amy Lee.</h1>
			<div class="description-area">
				<div class="description">
					A Front-End Programmer. <span class="indicator">|</span>
				</div>
				<div class="description">
					A Website Designer. <span class="indicator">|</span>
				</div>
				<div class="description">
					A Tasks Chanllenger. <span class="indicator">|</span>
				</div>
			</div>
    		<a href="#" class="btn btn-transparent">Hire me now!</a>
		</div>
	</header>

	<section class="section--about">
		<div class="title">ABOUT</div>
	  	<div class="container row">
			<div class="col-md-6 col-xs-12 features">
		      <!-- <i class="fa fa-5x fa-book"></i>ACADAMY -->
		      <ul>
		      	<li>
		      		<i class="fa fa-university fa-3"></i>
		      		National Taiwan University
		      	</li>
		      	<li class="major">	
		      		<i class="fa fa-graduation-cap fa-3"></i>
					Information and management
				</li>
		      </ul>
		      <hr>
		      <ul>
		      	<li>
		      		<i class="fa fa-university fa-3"></i>
		      		National Chengchi University
		      	</li>
		      	<li class="major">	
		      		<i class="fa fa-graduation-cap fa-3"></i>
					Computer Science
				</li>
		      	<li class="major">	
		      		<i class="fa fa-graduation-cap fa-3"></i>
					Digital Content and Technologies
				</li>
		      </ul>
		    </div>
	  	</div>
	</section>

	<section class="section--primary">
	  <div class="container row">
	    <div class="col-md-4 col-xs-12 features">
	      <i class="glyphicon glyphicon-search"></i>
	      <p>
	        Search the pet child you want to raise.
	      </p>
	    </div>
	    <div class="col-md-4 col-xs-12 features">
	      <i class="glyphicon glyphicon-heart"></i>
	      <p>
	        Find your favorite ones.
	      </p>
	    </div>
	    <div class="col-md-4 col-xs-12 features">
	      <i class="glyphicon glyphicon-home"></i>
	      <p>
	        Go bring he/her home right away! 
	      </p>
	    </div>
	  </div>
	</section>

	<footer>
	  <div class="container">
	    <ul>
	      <li><a href="#">Impressum</a></li>
	      <li><a href="#">Contact</a></li>
	      <li><a href="#">Mainpage</a></li>
	    </ul>
	    <p>&copy; 2014 dat Company. All rights reserved.</p>
	  </div>
	</footer>
	
	<script>
		// function whichTransitionEvent(){
		//   var t,
		//       el = document.createElement("fakeelement");

		//   var transitions = {
		//     "transition"      : "transitionend",
		//     "OTransition"     : "oTransitionEnd",
		//     "MozTransition"   : "transitionend",
		//     "WebkitTransition": "webkitTransitionEnd"
		//   }

		//   for (t in transitions){
		//     if (el.style[t] !== undefined){
		//       return transitions[t];
		//     }
		//   }
		// }

		//var transitionEvent = whichTransitionEvent();

		var descriptionElements = document.getElementsByClassName('description');
		console.log(descriptionElements[0]);

		// descriptionElements[0].addEventListener('animationend', function(event){
		// 	console.log('end');
		// });

		hideAllDescriptions();
		refireAnim(descriptionElements[0], 'typingAnim');
		Array.prototype.forEach.call(descriptionElements , function(ele, idx){
			ele.addEventListener('animationend', function(event){
				console.log(idx+'end');
				if(idx < descriptionElements.length-1){
					hideAllDescriptions();
					refireAnim(descriptionElements[idx+1], 'typingAnim');
				} else {
					hideAllDescriptions();
					refireAnim(descriptionElements[0], 'typingAnim');
				}
			});
		});
		function hideAllDescriptions(){
			Array.prototype.forEach.call(descriptionElements , function(ele, idx){
				descriptionElements[idx].style.visibility = 'hidden';
			});
		}
		function refireAnim(ele, anim){
			/* for refiring anim */
			ele.style.visibility = 'visible';
			ele.style.width = '0';
			ele.classList.remove(anim);
		  	setTimeout(function() {
		    	ele.classList.add(anim);
		  	}, 0);

			// ele.style.visibility = 'visible';
			// ele.style.animationName = 'typing'; 
   //  		ele.style.animationDuration = '8s';
		}

		// function refireAnim(ele, anim) {
		//   ele.classList.remove(anim);
		//   setTimeout(function() {
		//     ele.classList.add(anim);
		//   }, 0);
		// }

	</script>


</body>
</html>